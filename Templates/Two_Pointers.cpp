// defining (empty) segment variables
for (int i = 0, j = 0; /* bounded conditions of i and j */; /* new (empty) segment variables */) {
    while (/* condition to be satisfied for the element to be added to the segment */) {
        // add j to the segment and update segment variables
    }
}